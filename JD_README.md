# 京东联盟推广系统

基于 Vue 3 + TypeScript + Element Plus + UnoCSS 的京东联盟推广管理系统。

## 功能特性

### 1. 用户认证
- 微信公众号验证码登录
- JWT Token 认证
- 路由守卫保护

### 2. 商品转链
- 支持京东商品链接转换
- 支持商品ID转换
- 一键复制推广链接
- 实时转链结果反馈

### 3. 订单管理
- 按月份查看订单
- 订单数据统计（预估佣金、实际佣金）
- 订单绑定功能（14天内）
- 订单状态跟踪

### 4. 提现结算
- 查看结算记录
- 申请提现（次月21号后）
- 结算状态跟踪
- 失败原因查看

### 5. 个人中心
- 个人信息管理
- 收款码上传
- 邀请码管理
- 退出登录

## 技术栈

- **框架**: Vue 3 + TypeScript
- **路由**: Vue Router 4
- **状态管理**: Pinia + 持久化插件
- **UI 组件**: Element Plus
- **CSS 框架**: UnoCSS
- **图标**: Iconify (Carbon Icons)
- **HTTP 客户端**: Axios

## 项目结构

```
src/
├── views/jd/           # 京东联盟页面
│   ├── Login.vue       # 登录页面
│   ├── Layout.vue      # 主布局
│   ├── Convert.vue     # 转链页面
│   ├── Orders.vue      # 订单管理
│   ├── Profile.vue     # 个人中心
│   └── Settlement.vue  # 结算记录
├── stores/             # Pinia 状态管理
│   ├── auth.ts         # 认证状态
│   ├── jdUser.ts       # 用户信息
│   └── login.ts        # 登录弹窗
├── service/            # API 服务
│   ├── axios.ts        # Axios 配置
│   ├── index.ts        # 通用请求方法
│   └── api.ts          # API 接口定义
└── router/             # 路由配置
    └── index.ts        # 路由定义和守卫
```

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发模式

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 预览生产构建

```bash
npm run preview
```

## API 配置

在 `src/service/axios.ts` 中配置 API 基础路径：

```typescript
baseURL: isDev ? 'https://api.xxxxx.com/' : '/'
```

## 页面路由

| 路径 | 页面 | 说明 |
|------|------|------|
| `/login` | 登录页面 | 微信验证码登录 |
| `/convert` | 转链页面 | 商品链接转换 |
| `/orders` | 订单管理 | 查看和绑定订单 |
| `/settlement` | 结算记录 | 查看提现记录 |
| `/profile` | 个人中心 | 管理个人信息 |

## 业务流程

### 1. 登录流程
1. 关注微信公众号
2. 发送"登录"获取验证码（JD_xxx格式）
3. 输入验证码和邀请码
4. 登录成功，跳转到转链页面

### 2. 转链流程
1. 复制京东商品链接或商品ID
2. 粘贴到输入框
3. 点击"立即转链"
4. 复制生成的推广链接
5. 分享给用户购买

### 3. 订单绑定流程
1. 用户通过推广链接下单
2. 订单完成后，复制订单号
3. 在订单管理页面点击"绑定订单"
4. 输入订单号（可批量，换行分隔）
5. 确认绑定

### 4. 提现流程
1. 进入订单管理页面
2. 选择要提现的月份
3. 确保当前日期在次月21号之后
4. 点击"申请提现"
5. 等待管理员审核打款
6. 在结算记录页面查看状态

## 注意事项

### 订单绑定
- 订单完成后14天内可绑定
- 超过14天无法绑定

### 提现规则
- 次月21号之后才能申请上月佣金提现
- 必须完善个人信息（昵称、手机号、收款码）
- 只有已结算订单（validCode=17）才计入提现金额

### 收款码上传
- 支持格式：JPG、PNG、GIF、WEBP
- 最大文件大小：5MB

## UI 设计特点

- **扁平化设计**: 简洁现代的界面风格
- **渐变背景**: 红橙色系渐变，呼应京东品牌色
- **圆角卡片**: 16-20px 圆角，视觉更柔和
- **状态提示**: 颜色编码的状态标签（绿色-成功，黄色-待处理，红色-失败）
- **响应式布局**: 适配移动端和桌面端
- **底部导航**: 移动端优先的导航设计

## 开发规范

- 使用 Vue 3 Composition API + `<script setup>`
- TypeScript 类型安全
- 尽量使用 UnoCSS，避免写 `<style>` 标签
- 组件命名采用 PascalCase
- API 请求统一在 `service/api.ts` 中定义
- 状态管理使用 Pinia

## License

MIT
